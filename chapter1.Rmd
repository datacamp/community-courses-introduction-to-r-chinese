--- 
title_meta  : 第一章
title       : 基本介紹
description : "你會初次接觸R，學習到如何使用R做計算以及如何宣告變數，也會學習R的基本資料類型，讓我們趕快開始吧！"

--- type:NormalExercise xp:100 skills:1 key:dd8bfba816aff286aa9d14ea7f632bec1e58a1e6
## 熟悉環境

你要在右邊的編輯區輸入R程式碼來完成練習，當你按下Submit Answer按鈕後，每一行程式碼都會被編譯且執行，然後你將會得到正確或錯誤的訊息，R程式碼的輸出結果會呈現在右下角的R Console視窗中。

R使用 `#` 來加入註解，讓你與其他人可以更快了解這段R程式碼的用途，就跟Twitter一樣！註解不會被執行故不影響結果，例如在右方編輯區的_計算 3 + 4_就是一個註解。

你也可以直接在R Console視窗中執行R程式碼，這是一個測試語法是否正確的好方法。

*** =instructions
- 在右邊的編輯區已經有了一些範例，你看得出來哪些是會被執行的R程式碼，哪些是不會被執行的註解嗎？
- 加入一行R程式碼計算6加12，然後按下Submit Answer按鈕。

*** =hint
加入一行R程式碼計算6加12，就像範例一樣！

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# 計算 3 + 4
3 + 4

# 計算 6 + 12

```

*** =solution
```{r}
# 計算 3 + 4
3 + 4

# 計算 6 + 12
6 + 12
```

*** =sct
```{r}
test_output_contains("7", incorrect_msg = "\u4e0d\u9700\u8981\u79fb\u9664\u8a08\u7b973\u52a04\u7684\u7a0b\u5f0f\u78bc\uff0c\u52a0\u53e6\u5916\u4e00\u884c\u7a0b\u5f0f\u78bc\u8a08\u7b976\u52a012\u5373\u53ef\u3002")
test_output_contains("18", incorrect_msg = "\u78ba\u5b9a\u4f60\u6709\u52a0\u4e86\u4e00\u884c\u7a0b\u5f0f\u78bc\u8a08\u7b976\u52a012\uff0c\u6ce8\u610f\u4e0d\u8981\u5728\u7a0b\u5f0f\u78bc\u524d\u9762\u52a0\u4e0a `#`\uff0c\u5426\u5247\u5c07\u4e0d\u6703\u88ab\u57f7\u884c\uff01")
success_msg("\u592a\u68d2\u4e86\uff01\u770b\u5230console\u5982\u4f55\u5448\u73fe\u4f60\u9001\u51fa\u7684\u7a0b\u5f0f\u4e86\u55ce\uff1f\u73fe\u5728\u4f60\u5df2\u7d93\u719f\u6089\u4e86\u4ecb\u9762\uff0c\u63a5\u4e0b\u4f86\u6211\u5011\u4f86\u6df1\u5165\u7814\u7a76R\u5427\uff01")
```

--- type:NormalExercise xp:100 skills:1 key:f50c65ca40332b98e2a74aa17a600d110bc87a81
## R與數學運算

R可以做為一個簡單的計算機，你可以任意使用下列的運算符號：

- 加號： `+`
- 減號： `-`
- 乘號： `*`
- 除號： `/`
- 次方： `^`
- 餘數： `%%`

讓我們多解釋一下最後兩個運算符號：
- `^` 會將其左邊的數字連續乘上右方數字之次數後回傳，舉例來說： `3^2` 運算結果會得到9。
- `%%` 會將左邊的數字除以右邊數字後回傳其餘數，舉例來說： `5 %% 3` 運算結果會得到2。

根據前述的解釋，跟著下列說明完成練習。

*** =instructions
- 在編輯區輸入 `2^5` 來計算2的5次方為多少。
- 在編輯區輸入 `28 %% 6` 來計算28除以6的餘數為多少。
- 點選 'Submit Answer' 並在R Console中查看運算結果。
- 注意 `#` 是用來為你的R程式碼加上註解的符號。

*** =hint
另外一個餘數運算範例是： `9 %% 2` ，運算結果會得到 `1`。

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# 加法
5 + 5 

# 減法
5 - 5 

# 乘法
3 * 5

# 除法
(5 + 5) / 2 

# 次方


# 餘數

```

*** =solution
```{r}
# 加法
5 + 5 

# 減法
5 - 5 

# 乘法
3 * 5

# 除法
(5 + 5) / 2 

# 次方
2 ^ 5

# 餘數
28 %% 6
```

*** =sct
```{r}
msg = "\u4e0d\u9700\u8981\u79fb\u9664\u5176\u4ed6\u7684\u6578\u5b78\u904b\u7b97\u7bc4\u4f8b\uff01"
test_output_contains("5 + 5", incorrect_msg = msg)
test_output_contains("5 - 5", incorrect_msg = msg)
test_output_contains("(5 + 5)/2", incorrect_msg = msg)
test_output_contains("2^5", incorrect_msg = "\u6b21\u65b9\u7684\u7df4\u7fd2\u4e0d\u6b63\u78ba\uff0c\u518d\u8a73\u7d30\u95b1\u8b80\u4e00\u6b21\u8aaa\u660e\u3002")
test_output_contains("28 %% 6", incorrect_msg = "\u9918\u6578\u7684\u7df4\u7fd2\u4e0d\u6b63\u78ba\uff0c\u518d\u8a73\u7d30\u95b1\u8b80\u4e00\u6b21\u8aaa\u660e\u3002")
success_msg("\u592a\u597d\u4e86\uff01\u524d\u9032\u4e0b\u4e00\u500b\u7df4\u7fd2\u5427\u3002")
```


--- type:NormalExercise xp:100 skills:1 key:2ac26323b43f5ce728fb1e29e18d3afc84160fdc
## 宣告變數 

統計程式語言的基本概念是**變數**。 

變數讓你在R儲存一個值(像是：4) 或者一個物件(像是：函數)，之後你就可以用指派的變數名稱來使用這個值或物件。 

你可以用以下這段程式宣告變數 `my_var` 並且將4這個數值指派給它：

```
my_var <- 4
```

*** =instructions
輪到你囉！在編輯區宣告一個變數 `x` 並且將42這個數值指派給它，完成之後按Submit Answer按鈕。注意當你要求R印出 `x` 時，42就出現了。

*** =hint
觀察一下如何將4指派給 `my_var` 並且在編輯區中做一樣的事情，但是現在將42指派給變數 `x`。

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# 宣告變數x並將42指派給x
x <- 

# 將變數x的值印出
x
```

*** =solution
```{r}
# 宣告變數x並將42指派給x
x <- 42

# 將變數x的值印出
x
```

*** =sct
```{r}
test_object("x", undefined_msg = "\u78ba\u8a8d\u662f\u5426\u6709\u5ba3\u544a\u8b8a\u6578 `x`\u3002",
            incorrect_msg = "\u78ba\u8a8d\u662f\u5426\u6709\u6307\u6d3e\u6b63\u78ba\u7684\u6578\u503c\u7d66 `x`\u3002") 
success_msg("做得好！你是否有注意到在你宣告變數的時候，R並沒有將變數的值印出？ `x <- 42` 並沒有輸出，因為R認為你之後還會使用這個變數，否則你不需要先將這個值指派給變數對嗎？前進到下一個練習！")
```


--- type:NormalExercise xp:100 skills:1 key:2cb4878a22c17d2f5589992697d96223082a42b9
## 宣告變數 (2)

假設你有一個水果籃中有5個蘋果，身為一個資料分析師，你希望宣告一個變數 `my_apples` 並將蘋果的個數指派給它。 

*** =instructions
- 在編輯區中輸入： `my_apples <- 5` ，這會將5指派給 `my_apples`。
- 在第二個註解下輸入： `my_apples`，這會在R Console中將 `my_apples` 的值印出。
- 完成之後按Submit Answer按鈕並且觀察R Console：你可以發現5被印出了，所以R已經將 `my_apples` 跟5這個數值連結在一起了。

*** =hint
記得在指派數值或物件給變數時，可以使用 `<-` 來指派，或者使用 `=`，但是R的社群偏好 `<-`。

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# 指派5這個數值給my_apples


# 將my_apples的值印出

```

*** =solution
```{r}
# 指派5這個數值給my_apples
my_apples <- 5

# 將my_apples的值印出
my_apples
```

*** =sct
```{r}
test_object("my_apples", 
            undefined_msg = "\u8acb\u78ba\u8a8d\u662f\u5426\u6709\u5ba3\u544a\u8b8a\u6578 `my_apples`\u3002",
            incorrect_msg = "\u8acb\u78ba\u8a8d\u662f\u5426\u6709\u6307\u6d3e\u6b63\u78ba\u7684\u6578\u503c\u7d66 `my_apples`\u3002")
test_output_contains("my_apples", 
                     incorrect_msg = "\u4f60\u662f\u5426\u6709\u544a\u8a34R\u8981\u5c07 `my_apples` \u7684\u503c\u5370\u51fa\uff1f")
success_msg("\u592a\u597d\u4e86\uff01\u524d\u9032\u5230\u4e0b\u4e00\u500b\u7df4\u7fd2\uff01")
```


--- type:NormalExercise xp:100 skills:1 key:a666eb3fb98a7b8cc5930d9c8d2a6997a47561e2
## 宣告變數 (3)

美味的水果籃可不能沒有柳橙！所以你決定加入6個柳橙。身為一個資料分析師，你的直覺反應是宣告變數 `my_oranges` 並將6指派給它。接下來你想計算水果籃裡頭的水果總數，既然你已經完成變數宣告，就可以用清楚的方式來寫程式：
```
my_apples + my_oranges
```

*** =instructions
- 宣告 `my_oranges` 並指派6給它。
- 將 `my_apples` 與 `my_oranges` 相加並將結果印出。
- 要計算水果籃裡頭的水果總數，將 `my_apples` 與 `my_oranges` 相加並指派給一個新變數 `my_fruit`。

*** =hint
`my_fruit` 單純就是 `my_apples` 加 `my_oranges`. 只要使用 `+` 就可以相加，然後再使用 `<-` 將結果指派給 `my_fruit`。

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# 宣告my_apples與my_oranges並將蘋果個數5、柳橙個數6分別指派
my_apples <- 5


# 相加兩個變數然後印出結果


# 宣告變數my_fruit

```

*** =solution
```{r}
# 宣告my_apples與my_oranges並將蘋果個數5、柳橙個數6分別指派
my_apples  <- 5
my_oranges <- 6

# 相加兩個變數然後印出結果
my_apples + my_oranges

# 宣告變數my_fruit
my_fruit <- my_apples + my_oranges
```

*** =sct
```{r}
test_object("my_apples", 
            undefined_msg = "\u8acb\u78ba\u8a8d\u662f\u5426\u6709\u5ba3\u544a\u8b8a\u6578 `my_apples`\u3002",
            incorrect_msg = "\u4e0d\u8981\u66f4\u52d5\u8b8a\u6578 `my_apples`\uff01")
test_object("my_oranges", 
            undefined_msg = "\u8acb\u78ba\u8a8d\u662f\u5426\u6709\u5ba3\u544a\u8b8a\u6578 `my_oranges`\u3002",
            incorrect_msg = "\u8acb\u78ba\u8a8d\u662f\u5426\u6709\u6307\u6d3e\u6b63\u78ba\u7684\u6578\u503c\u7d66\u8b8a\u6578 `my_oranges`\u3002")
test_output_contains("my_apples + my_oranges",
                     incorrect_msg = "\u8acb\u78ba\u8a8d\u662f\u5426\u6709\u65b0\u5beb\u4e00\u6bb5\u7a0b\u5f0f `my_apples + my_oranges`\uff0c\u9019\u6703\u5c07\u76f8\u52a0\u7d50\u679c\u5370\u51fa\u3002")
test_object("my_fruit",
            undefined_msg = "\u8acb\u78ba\u8a8d\u662f\u5426\u6709\u5ba3\u544a\u8b8a\u6578`my_fruit`\u3002",
            incorrect_msg = "\u8acb\u78ba\u8a8d\u662f\u5426\u6709\u6307\u6d3e\u6b63\u78ba\u7684\u6578\u503c\u7d66\u8b8a\u6578 `my_fruit`\u3002")
success_msg("\u505a\u5f97\u592a\u597d\u4e86\uff01\u4f7f\u7528\u8b8a\u6578\u4f86\u505a\u904b\u7b97\u6700\u5927\u7684\u597d\u8655\u5c31\u662f\u91cd\u8907\u4f7f\u7528\uff0c\u5047\u5982\u4f60\u5c07 `my_apples` \u75315\u66f4\u6539\u70ba12\uff0c`my_fruit` \u7684\u7d50\u679c\u6703\u81ea\u52d5\u66f4\u65b0\u3002\u524d\u9032\u5230\u4e0b\u4e00\u500b\u7df4\u7fd2\u5427\uff01")
```


--- type:NormalExercise xp:100 skills:1 key:ff7bb3bd1c38b5db3ce9dde0e45f275163b6a9b6
## 蘋果與柳橙

常識告訴你把蘋果與柳橙相加是很愚蠢的:-)在前一個練習中， `my_apples` 與 `my_oranges` 這兩個變數各自含有一個數值，在R中 `+` 可以處理數值。假如你指派了一個文字給變數 `my_oranges` (如編輯區所示)，表示你試著將數值與文字相加後指派給變數 `my_fruit`，這不可能行得通。

*** =instructions
- 按Submit Answer按鈕並觀察錯誤訊息，了解為什麼會有這個錯誤訊息產生。
- 修正這段程式碼讓R知道你有6個柳橙，所以水果籃中共有11個水果。

*** =hint
你必須將數值 `6` 指派給變數 `my_oranges` 而非原本的文字 `"six"`。 注意雙引號是用來告訴R `"six"` 是一個文字。

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# 宣告變數my_apples並將5指派給它
my_apples <- 5 

# 將my_apples的值印出
my_apples       

# 宣告變數my_oranges並將"six"指派給它，然後再把my_oranges印出
my_oranges <- "six" 
my_oranges 

# 宣告變數my_fruit並將my_apples與my_oranges相加後指派給它
my_fruit <- my_apples + my_oranges 
my_fruit
```

*** =solution
```{r}
# 宣告變數my_apples並將5指派給它
my_apples <- 5  

# 將my_apples的值印出
my_apples  

# 宣告變數my_oranges並將"six"指派給它，然後再把my_oranges印出
my_oranges <- 6
my_oranges 

# 宣告變數my_fruit並將my_apples與my_oranges相加後指派給它
my_fruit <- my_apples + my_oranges 
my_fruit
```

*** =sct
```{r}
test_error()
test_object("my_oranges",
            incorrect_msg = "確認是否有指派正確的數值給 `my_oranges`。 字串與數值是不一樣的喔！")
test_output_contains("my_apples + my_oranges", 
                     incorrect_msg = "輸出並沒有包含 `my_apples` 加 `my_oranges`的結果。")
test_object("my_fruit",
            incorrect_msg = "確認是否有指派正確的數值給 `my_fruit`。")
success_msg("太棒了，請繼續保持！前進下一個練習。")
```


--- type:NormalExercise xp:100 skills:1 key:40c0d484b0ed0826822600b7c1d896d155e3e411
## Basic data types in R

R works with numerous data types. Some of the most basic types to get started are:

- Decimals values like `4.5` are called **numerics**.
- Natural numbers like `4` are called **integers**. Integers are also numerics.
- Boolean values (`TRUE` or `FALSE`) are called **logical**.
- Text (or string) values are called **characters**.

Note how the quotation marks on the right indicate that "some text" is a character.

*** =instructions
Change the value of the:
- `my_numeric` variable to `42`.
- `my_character` variable to `"universe"`. Note that the quotation marks indicate that `"universe"` is a character.
- `my_logical` variable to `FALSE`.

Note that R is case sensitive!

*** =hint 
Replace the values in the editor with the values that are provided in the exercise. For example: 
`my_numeric <- 42` assigns the value 42 to the variable `my_numeric`. 

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Change my_numeric to be 42
my_numeric <- 42.5

# Change my_character to be "universe"
my_character <- "some text"

# Change my_logical to be FALSE
my_logical <- TRUE
```

*** =solution
```{r}
# Change my_numeric to be 42
my_numeric <- 42

# Change my_character to be "universe"
my_character <- "universe"

# Change my_logical to be FALSE
my_logical <- FALSE
```

*** =sct
```{r}
test_object("my_numeric", incorrect_msg = "Have you correctly changed the declaration of `my_numeric` so it contains the value 42?")
test_object("my_character", incorrect_msg = "Have you correctly changed `my_character` to `\"universe\"`. Don't forget the quotes!")
test_object("my_logical", incorrect_msg = "Have you correctly changes `my_logical` to `FALSE`? All letters of `FALSE` should be capitalized!")
success_msg("Great work! Continue to the next exercise.")
```


--- type:NormalExercise xp:100 skills:1 key:3c8cc5a936ede8b77b123fda57e937afe5cf1f70
## What's that data type?

Do you remember that when you added `5 + "six"`, you got an error due to a mismatch in data types? You can avoid such embarrassing situations by checking the data type of a variable beforehand. You can do this with the `class()` function, as the code on the right shows.

*** =instructions
Complete the code in the editor and also print out the classes of `my_character` and `my_logical`. 

*** =hint
The code that prints the data type of `my_numeric` is already included; do a similar things for `my_character` and `my_logical`. 

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Declare variables of different types
my_numeric <- 42
my_character <- "universe"
my_logical <- FALSE 

# Check class of my_numeric
class(my_numeric)

# Check class of my_character


# Check class of my_logical

```

*** =solution
```{r}
# Declare variables of different types:
my_numeric <- 42
my_character <- "universe"
my_logical <- FALSE

# Check class of my_numeric
class(my_numeric)

# Check class of my_character
class(my_character)

# Check class of my_logical
class(my_logical)
```

*** =sct
```{r}
msg <- "Do not change the declaration of the variables!"
lapply(c("my_numeric", "my_character", "my_logical"), test_object, undefined_msg = msg, incorrect_msg = msg)
patt <- "Have you included `class(%1$s)` to print out the data type of `%1$s`?"
test_output_contains("class(my_numeric)",
                     incorrect_msg = "Do not remove the code that prints out the type of `my_numeric`.")
test_output_contains("class(my_character)",
                     incorrect_msg = sprintf(patt, "my_character"))
test_output_contains("class(my_logical)",
                     incorrect_msg = sprintf(patt, "my_logical"))
success_msg("Congratulations! This was the last exercise for this chapter. Head over to the next chapter to get immersed in the world of vectors!")
```



