--- 
title_meta  : 第六章
title       : 清單
description : 清單與向量最大的不同點是清單可以儲存不同類型的資料格式，就像你工作項目清單一樣，本章節會教你如何建立、命名以及選擇清單中的元素。

--- type:NormalExercise xp:100 skills:1 key:b02020c3b8ccf1d6ea63f5801cc80ae49bf49b15
## 為什麼會需要清單？

恭喜你，課程進行到這裡你已經對以下的資料類別非常熟悉：

- **向量**(單一維度的陣列)：可以包含數值、字串或邏輯值，向量中的元素均屬於同一種資料類型。
- **矩陣**(兩個維度的陣列)：可以包含數值、字串或邏輯值，矩陣中的元素均屬於同一種資料類型。
- **資料框**(兩個維度的物件)：可以包含數值、字串或邏輯值，在同一個欄位中所有的元素均屬於同一種資料類型，但不同的欄位可以各自屬於不同的資料類型。

這樣的整理對R的新手很貼心對吧？ ;-)

*** =instructions
按下'Submit Answer'開始學習清單吧！

*** =hint
按下'Submit Answer'按鈕。

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# 按下'Submit Answer'按鈕
```

*** =solution
```{r}
# 按下'Submit Answer'按鈕
```

*** =sct
```{r}
success_msg("準備好，前進下一個練習！")
```


--- type:NormalExercise xp:100 skills:1 key:d6f368841ef8395b0cf19fbaa2e23c7ce2c8672d
## 為什麼會需要清單？ (2)

**清單**在R中跟你的工作項目或學習項目很像，這些要完成的項目長度、特性或者活動類型都不一樣。

清單可以蒐集多樣性的物件，包含矩陣、向量、資料框甚至清單，這些物件甚至不需要跟彼此相關。

你可以將清單視為一種超級資料類型，基本上你可以將任何資訊都儲存在清單中！

*** =instructions
按下'Submit Answer'開始第一個清單的練習。

*** =hint
按下'Submit Answer'開始第一個清單的練習。

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# 按下'Submit Answer'開始第一個清單的練習
```

*** =solution
```{r}
# 按下'Submit Answer'開始第一個清單的練習
```

*** =sct
```{r}
success_msg("酷斃了，把袖子捲起來幹活吧！")
```


--- type:NormalExercise xp:100 skills:1 key:3c886887d481e450e4d55fdc6504f4b9cd99083e
## 建立一個清單

你需要使用[`list()`](http://www.rdocumentation.org/packages/base/functions/list)函數建立一個清單： 

```
my_list <- list(comp1, comp2 ...)
```

list函數的參數即為清單中的物件，這些物件可以是矩陣、向量或者其他清單。

*** =instructions
宣告一個清單，指派為 `my_list` 包含變數 `my_vector` 、 `my_matrix` 與 `my_df` 。

*** =hint
使用[`list()`](http://www.rdocumentation.org/packages/base/functions/list)函數並將 `my_vector` 、 `my_matrix` 與 `my_df` 作為以逗號相隔的不同參數。

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# 數值1到10的向量
my_vector <- 1:10 

# 數值1到9的矩陣
my_matrix <- matrix(1:9, ncol = 3)

# 内建資料框mtcars的前10列
my_df <- mtcars[1:10,]

# 宣告清單
my_list <- 
```

*** =solution
```{r}
# 數值1到10的向量
my_vector <- 1:10 

# 數值1到9的矩陣
my_matrix <- matrix(1:9, ncol = 3)

# 内建資料框mtcars的前10列
my_df <- mtcars[1:10,]

# 宣告清單
my_list <- list(my_vector, my_matrix, my_df)
```

*** =sct
```{r}
msg = "不需要移除或更改變數 `my_vector` 、 `my_matrix` 或 `my_df` 的內容。"
test_object("my_vector", undefined_msg = msg, incorrect_msg = msg)
test_object("my_matrix", undefined_msg = msg, incorrect_msg = msg)
test_object("my_df", undefined_msg = msg, incorrect_msg = msg)
test_object("my_list",
            incorrect_msg = "看起來 `my_list` 沒有包含正確的元素，確認是否有將 `my_vector` 、 `my_matrix` 與 `my_df` 依序作為 `list()` 函數的引數並以逗號分隔。")
success_msg("太棒了，前進下一個練習！")
```


--- type:NormalExercise xp:100 skills:1 key:60372e4e466c431316ece6222f3385ef239dce7e
## 建立一個有項目名稱的清單

太棒了，你學得正順呢！

為了防止你忘記清單中的項目，你應該要幫這些項目命名：

```
my_list <- list(name1 = your_comp1, 
                name2 = your_comp2)
``` 

這段程式會宣告一個將項目命名的清單 `name1` 、 `name2` 以此類推，如果你希望在建立清單後才命名，你可以之後再使用 `names()` 函數，例如以下這段程式跟前面是完全相同的：

```
my_list <- list(your_comp1, your_comp2)
names(my_list) <- c("name1", "name2")
```

*** =instructions
- 更改編輯區前一個練習的程式，將 `my_vector` 命名為 `vec`、將 `my_matrix` 命名為 `mat` 並將 `my_df` 命名為 `df`。 
- 將 `my_list` 印出檢視。

*** =hint
第一個指派清單項目名稱的方法是最簡單的：
```
my_list <- list(vec = my_vector)
```
依樣畫葫蘆加入另外兩個元素。

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# 數值1到10的向量
my_vector <- 1:10 

# 數值1到9的矩陣
my_matrix <- matrix(1:9, ncol = 3)

# 内建資料框mtcars的前10列
my_df <- mtcars[1:10,]

# 使用list()為這些元素命名
my_list <- list(my_vector, my_matrix, my_df)

# 印出my_list

```

*** =solution
```{r}
# 數值1到10的向量
my_vector <- 1:10 

# 數值1到9的矩陣
my_matrix <- matrix(1:9, ncol = 3)

# 内建資料框mtcars的前10列
my_df <- mtcars[1:10,]

# 使用list()為這些元素命名
my_list <- list(vec = my_vector, mat = my_matrix, df = my_df)

# 印出my_list
my_list
```

*** =sct
```{r}
msg = "不需要移除或更改變數 `my_vector` 、 `my_matrix` 或 `my_df` 的內容。"
test_object("my_vector", undefined_msg = msg, incorrect_msg = msg)
test_object("my_matrix", undefined_msg = msg, incorrect_msg = msg)
test_object("my_df", undefined_msg = msg, incorrect_msg = msg)
test_object("my_list",
            incorrect_msg = "看起來 `my_list` 並沒有包含正確的元素。")
test_object("my_list", eq_condition = "equal",
            incorrect_msg = "看起來 `my_list` 並沒有包含正確的元素。確認是否分別使用了 `vec` 、 `mat` 與 `df` 作命名，如果還是不清楚的話可以看看提示。");
test_output_contains("my_list", incorrect_msg = "別忘記了將 `my_list` 印出，在編輯區多加一行程式 `my_list` 就可以做到。")
success_msg("太棒了，你現在不只知道了如何建立清單，你還學會了實用技巧為清單的元素命名，前進下一個練習！")
```


--- type:NormalExercise xp:100 skills:1 key:cf2bc8104cc549cdd4eab9773bfe0d234effa9d5
## 建立一個有項目名稱的清單 (2)

別忘了你是盧卡斯影業的員工，身為一個超級電影迷，你決定把好看的電影資訊儲存在清單中。

讓我們建立一個電影清單"The Shining"，變數 `mov` 、 `act` 與 `rev` 已經預先建立在工作空間，你可以在R Console中檢視這些變數。

*** =instructions
完成編輯區的程式建立 `shining_list` ，這個清單包含了3個元素：

- 電影名稱：電影名稱是一個字串(儲存於 `mov` 中)
- 演員：主要演員姓名向量(儲存於 `act` 中)
- 評論：電影評論資訊的資料框(儲存於 `rev` 中)

不要忘了為清單中的項目命名(依序為moviename、actors與reviews)。

*** =hint
`shining_list <- list(moviename = mov)` 只包含了部份的解答，你還需要在清單中加入 `act` 與 `rev` 並給予適當命名。

*** =pre_exercise_code
```{r}
mov <- "The Shining"
act      <- c("Jack Nicholson","Shelley Duvall","Danny Lloyd","Scatman Crothers","Barry Nelson")
sources     <- c("IMDb1","IMDb2","IMDb3")
comments    <- c("Best Horror Film I Have Ever Seen","A truly brilliant and scary film from Stanley Kubrick","A masterpiece of psychological horror")
scores      <- c(4.5,4,5)
rev     <- data.frame(scores, sources, comments)
rm(scores, sources, comments)
```

*** =sample_code
```{r}
# 變數mov、act與rev已經預先載入

# 完成這段程式建立shining_list
shining_list <- list(moviename = mov)
```

*** =solution
```{r}
# 變數mov、act與rev已經預先載入

# 完成這段程式建立shining_list
shining_list <- list(moviename = mov, actors = act, reviews = rev)
```

*** =sct
```{r}
msg = "不需要移除或更改預先建立好的這些變數。"
lapply(c("mov", "rev", "act"), test_object, undefined_msg = msg, incorrect_msg = msg)
test_object("shining_list",
            incorrect_msg = "看起來 `shining_list` 並沒有包含正確的元素，第一個元素應為 `mov` 、 第二個元素應為 `act` 而第三個為 `rev`。")
test_object("shining_list", eq_condition = "equal",
            incorrect_msg = "看起來 `shining_list` 並沒有為元素作正確的命名，第一個元素應命名為 `moviename` ，第二個元素命名為 `actors` 而第三個元素命名為 `reviews`。");
success_msg("太棒了，你現在知道如何建立並為清單命名，如同前面的章節，我們來看看如何從清單中選擇元素，前進下一個練習！")
```


--- type:NormalExercise xp:100 skills:1 key:5bbf2c7bd99765106af3ccb1ee48649d763161ef
## 從清單中選擇元素

清單常包含多種的元素與項目，因此從清單中選取單一元素、多個元素或某部分並不是非常地直觀。

利用索引值選取是一種方式，例如將 `shining_list` 的第一個項目抓出來你可以輸入

```
shining_list[[1]]
```

可別跟用單一中括號 `[ ]` 從向量中選擇元素 搞混了，你可以在R Console中快速輸入並檢視結果！

你也可以使用項目的名稱選擇，使用 `[[ ]]` 或 `$` 都可以達成同樣目的：

```
shining_list[["reviews"]]
shining_list$reviews
``` 

Besides selecting components, you often need to select specific elements out of these components. For example, with `shining_list[[2]][1]` you select from the second component, `actors` (`shining_list[[2]]`), the first element (`[1]`). When you type this in the console, you will see the answer is Jack Nicholson.

*** =instructions
- Select from `shining_list` the vector representing the actors. Simply print out this vector.
- Select from `shining_list` the second element in the vector representing the actors. Do a printout like before.

*** =hint
- To select the vector representing the actors, you can use `$actors`.
- To select the third element in the vector representing the actors, you use `shining_list$actors[3]`. What needs to change to select the second element?

*** =pre_exercise_code
```{r}
load(url("http://s3.amazonaws.com/assets.datacamp.com/course/intro_to_r/shining_list.RData"))
```

*** =sample_code
```{r}
# shining_list is already pre-loaded in the workspace

# Print out the vector representing the actors


# Print the second element of the vector representing the actors

```

*** =solution
```{r}
# shining_list is already pre-loaded in the workspace

# Print out the vector representing the actors
shining_list$actors

# Print the second element of the vector representing the actors
shining_list$actors[2]
```

*** =sct
```{r}
msg <- "Do not remove or change the definition of `shining_list`, which is pre-loaded in the workspace!"
test_object("shining_list", undefined_msg = msg, incorrect_msg = msg)
test_output_contains("shining_list$actors", incorrect_msg = "Have you correctly selected and printed out the vector representing actors? You can use `shining_list$actors`, for example.")
test_output_contains("shining_list$actors[2]", incorrect_msg = "To select the second actor from the vector representing actors, you should chain your selections: `shining_list$actors` represents the actors, so you can add a `[2]` to select the second element.")
success_msg("Great! Selecting elements from lists is rather easy isn't it? Continue to the next exercise.")
```


--- type:NormalExercise xp:100 skills:1 key:4cec127e7811993251c89ede9a6e976958f66be5
## Adding more movie information to the list

Being proud of your first list, you shared it with the members of your movie hobby club. However, one of the senior members, a guy named M. McDowell, noted that you forgot to add the release year. Given your ambitions to become next year's president of the club, you decide to add this information to the list. 

To conveniently add elements to lists you can use the [`c()`](http://www.rdocumentation.org/packages/base/functions/c) function, that you also used to build vectors:

```
ext_list <- c(my_list , my_val)
``` 

This will simply extend the original list, `my_list`, with the component `my_val`. This component gets appended to the end of the list.
If you want to give the new list item a name, you just add the name as you did before: 

```
ext_list <- c(my_list, my_name = my_val)
```

*** =instructions
- Complete the code below such that an item named `year` is added to the `shining_list` with the value 1980. Assign the result to `shining_list_full`.
- Finally, have a look at the structure of `shining_list_full` with the [`str()`](http://www.rdocumentation.org/packages/utils/functions/str) function.

*** =hint
Have a look at the example code in the exercise assignment. Maybe this can help you start:
```
shining_list <- c(shining_list, ...)
```
You still have to add some code where the three dots are.

*** =pre_exercise_code
```{r, eval = FALSE}
load(url("http://s3.amazonaws.com/assets.datacamp.com/course/intro_to_r/shining_list.RData"))
```

*** =sample_code

```{r}
# shining_list, the list containing movie name, actors and reviews, is pre-loaded in the workspace

# We forgot something; add the year to shining_list
shining_list_full <- 

# Have a look at shining_list_full

```

*** =solution

```{r}
# shining_list, the list containing movie name, actors and reviews, is pre-loaded in the workspace

# Use c() to add a year to shining_list
shining_list_full <- c(shining_list, year = 1980)

# Have a look at shining_list_full
str(shining_list_full)
```

*** =sct
```{r}
msg = "Do not remove or change the definition of `shining_list`, which is pre-loaded in the workspace!"
test_object("shining_list", undefined_msg = msg, incorrect_msg = msg)
test_object("shining_list_full", eq_condition = "equal",
            incorrect_msg = paste("Have you correctly extended `shining_list` with an element named `year`,",
                                  "whose value is 1980? You can use `c(shining_list, year = 1980)`"))
test_function("str", "object", incorrect_msg = "Don't forget to display the structure of `shining_list_full` with `str()`.")
success_msg("Great! This was the last exercise on R lists! You now have a solid basis in the R programming language, but there's so much more to learn. Check out all the other DataCamp courses and become a true data science expert!")
```


